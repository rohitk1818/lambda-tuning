---
mainSteps:
- name: ListManualSnapshots
  action: aws:executeScript
  inputs:
    Runtime: python3.8
    Handler: list_snapshots
    Script: |
      import boto3
      def list_snapshots(events, context):
          client = boto3.client('rds')
          response = client.describe_db_snapshots(SnapshotType='manual')
          snapshots = [snapshot['DBSnapshotIdentifier'] for snapshot in response['DBSnapshots']]
          return {'snapshots': snapshots}
  outputs:
    - Name: snapshots
      Selector: $.Payload.snapshots
      Type: StringList
